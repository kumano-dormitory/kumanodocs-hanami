<% if table.data.length > 0 then %>
<table class="article-table">
<caption><%= h table.caption %>
  <% if editable %>
    <a href="<%= routes.edit_table_path(table.id) %>" class="p-button--positive u-no-margin">編集</a>
    <%=
      form_for :table, routes.table_path(table.id), method: :delete, class: "p-form p-form--inline" do
        submit '削除', class: "p-button--negative u-no-margin"
      end
    %>
  <% end %>
</caption>
<% if table.data.length == 1 then %>
<thead>
</thead>
<tbody>
  <tr>
    <% table.data[0].each do |data| %>
    <td><%= h data %></td>
    <% end %>
  </tr>
</tbody>

<% else %>

<thead>
  <tr>
    <% table.data[0].each_with_index do |data, i| %>
    <th scope="col" class="<%= if i > 0 then "u-align--right" end %>"><%= h data %></th>
    <% end %>
  </tr>
</thead>
<tbody>
  <% table.data[1..-1].each do |row| %>
  <tr>
    <% row.each_with_index do |data, i| %>
      <% if i == 0 %>
        <th scope="row"><%= h data %></th>
      <% else %>
        <td class="u-align--right"><%= h data %></td>
      <% end %>
    <% end %>
  </tr>
  <% end %>
</tbody>

<% end %>
</table>
<% end %>
