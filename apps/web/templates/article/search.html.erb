<div class="p-strip">
  <div class="row">
    <div class="col-12">
      <h1>検索結果― 『<%= keywords %>』</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <%= form_search(keywords) %>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <% articles.each do |article| %>
      <div class="p-card--highlighted u-no-padding--bottom u-no-padding--top">
        <h2 class="p-card__title">
          <a href="<%= routes.article_path(id: article.id) %>" class="p-link--strong">
            <%= article.title %>
          </a>
        </h2>
        <p class="p-card__content" style="max-width: none;"><%= article.body[0, 200] %></p>
        <p class="p-card__content"><strong>ブロック会議：<%= article.meeting.date %> . 文責者：<%= article.author.name %></strong></p>
      </div>
      <% end %>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <footer class="p-pagination">
        <% if page - 1 > 0 %>
          <a href="?page=<%= page - 1 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link--previous">
            <span class="p-pagination__label">前のページ</span>
          </a>
        <% else %>
          <span class="p-pagination__link--previous is-disabled"><span class="p-pagination__label">前のページ</span></span>
        <% end %>
        <% if page - 3 > 1 %>
          <a href="?page=1&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label">1</span>
          </a>
        <% end %>
        <% if page - 3 > 2 %>
          <span class="p-pagination__link">
            <span class="p-pagination__label">&hellip;</span>
          </span>
        <% end %>
        <% if page - 3 > 0 %>
          <a href="?page=<%= page - 3 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page - 3 %></span>
          </a>
        <% end %>
        <% if page - 2 > 0 %>
          <a href="?page=<%= page - 2 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page - 2 %></span>
          </a>
        <% end %>
        <% if page - 1 > 0 %>
          <a href="?page=<%= page - 1 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page - 1 %></span>
          </a>
        <% end %>
          <span class="p-pagination__link is-active" style="background-color: #ccc;">
            <span class="p-pagination__label"><%= page %></span>
          </span>
        <% if page + 1 <= max_page %>
          <a href="?page=<%= page + 1 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page + 1%></span>
          </a>
        <% end %>
        <% if page + 2 <= max_page %>
          <a href="?page=<%= page + 2 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page + 2 %></span>
          </a>
        <% end %>
        <% if page + 3 <= max_page %>
          <a href="?page=<%= page + 3 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= page + 3 %></span>
          </a>
        <% end %>
        <% if page + 5 <= max_page %>
          <span class="p-pagination__link">
            <span class="p-pagination__label">&hellip;</span>
          </span>
        <% end %>
        <% if page + 4 <= max_page %>
          <a href="?page=<%= max_page %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link">
            <span class="p-pagination__label"><%= max_page %></span>
          </a>
        <% end %>
        <% if page + 1 <= max_page %>
          <a href="?page=<%= page + 1 %>&amp;search_article[keywords]=<%= hu keywords %>" class="p-pagination__link--next">
            <span class="p-pagination__label">次のページ</span>
          </a>
        <% else %>
          <span class="p-pagination__link--next is-disabled">
            <span class="p-pagination__label">次のページ</span>
          </span>
        <% end %>
      </footer>
    </div>
  </div>
</div>
