<h1><%= article.title %></h1>
<a href="<%= routes.edit_meeting_article_path(meeting_id: article.meeting_id, id: article.id) %>">編集</a>
<%=
  form_for :article, routes.meeting_article_path(meeting_id: article.meeting_id, id: article.id),
      method: :delete, class: "delete_article" do
    submit '削除'
  end
%>
<ul>
  <li>category : <%= decorated_categories_name(article.categories) %></li>
  <li>meeting date : <%= article.meeting.date %></li>
  <li>author : <%= article.author.name %></li>
  <li>number : <%= article.number.nil? ? 'nil' : article.number %></li>
  <li>checked : <%= article.checked %></li>
  <li>printed : <%= article.printed %></li>
  <li>created_at : <%= article.created_at %></li>
  <li>updated_at : <%= article.updated_at %></li>
</ul>
<p><%= article.body %></p>

<% if !article.tables.nil? then %>
  <% article.tables.each do |table| %>
    <a href="<%= routes.edit_meeting_article_table_path(meeting_id: article.meeting_id, article_id: article.id, id: table.id) %>">編集</a>
    <%=
      form_for :article, routes.meeting_article_table_path(meeting_id: article.meeting_id, article_id: article.id, id: table.id),
          method: :delete, class: "delete_article" do
        submit '削除'
      end
    %>
    <%= render partial: 'shared/table', locals: {table: table} %>
  <% end %>
<% end %>

<% blocks.each do |block| %>
  <% comment = article.comments.find { |comment| comment.block_id == block.id } %>
  <div>
    <p><%= block.name %>の議事録
      <a href='<%= routes.edit_comment_path(article_id: article.id, block_id: block.id) %>'>編集</a>
    </p>
    <p><%= comment.nil? ? 'なし' : comment.body %></p>
  </div>
<% end %>
